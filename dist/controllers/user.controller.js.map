{"version":3,"sources":["../../src/controllers/user.controller.ts"],"sourcesContent":["import { NextFunction, Request, Response } from \"express\";\r\nimport {\r\n  DeleteCurrentUserResDto,\r\n  DeleteUserResDto,\r\n  GetCurrentUserResDto,\r\n  UpdateCurrentUserReqDto,\r\n  UpdateCurrentUserResDto,\r\n  UpdatePasswordReqDto,\r\n  UpdatePasswordResDto,\r\n} from \"../dtos/user.dto\";\r\nimport { RequestWithUser } from \"../interfaces/auth.interface\";\r\nimport UserService from \"../services/user.service\";\r\n\r\nclass UserController {\r\n  private userService = new UserService();\r\n\r\n  public getCurrentUser = async (\r\n    req: RequestWithUser,\r\n    res: Response,\r\n    next: NextFunction\r\n  ) => {\r\n    try {\r\n      const outputData: GetCurrentUserResDto =\r\n        await this.userService.getCurrentUser(req.user);\r\n\r\n      res.status(200).json(outputData);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n  public getUserById = async (\r\n    req: Request,\r\n    res: Response,\r\n    next: NextFunction\r\n  ) => {\r\n    try {\r\n      const outputData: GetCurrentUserResDto =\r\n        await this.userService.getCurrentUser(req.params.userId);\r\n\r\n      res.status(200).json(outputData);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n  public updateCurrentUser = async (\r\n    req: RequestWithUser,\r\n    res: Response,\r\n    next: NextFunction\r\n  ) => {\r\n    try {\r\n      const inputData: UpdateCurrentUserReqDto = req.body;\r\n      const outputData: UpdateCurrentUserResDto =\r\n        await this.userService.updateCurrentUser(req.user, inputData);\r\n\r\n      res.status(200).json(outputData);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n\r\n\r\n  public updatePassword = async (\r\n    req: RequestWithUser,\r\n    res: Response,\r\n    next: NextFunction\r\n  ) => {\r\n    try {\r\n      const inputData: UpdatePasswordReqDto = req.body;\r\n      const outputData: UpdatePasswordResDto =\r\n        await this.userService.updatePassword(req.user, inputData);\r\n\r\n      res.status(200).json(outputData);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n\r\n\r\n  public deleteCurrentUser = async (\r\n    req: RequestWithUser,\r\n    res: Response,\r\n    next: NextFunction\r\n  ) => {\r\n    try {\r\n      const outputData: DeleteCurrentUserResDto =\r\n        await this.userService.deleteCurrentUser(req.user);\r\n\r\n      res.status(200).json(outputData);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n\r\n \r\n}\r\n\r\nexport default UserController;\r\n"],"names":["UserController","userService","UserService","getCurrentUser","req","res","next","outputData","user","status","json","error","getUserById","params","userId","updateCurrentUser","inputData","body","updatePassword","deleteCurrentUser"],"mappings":";;;;+BAgGA;;;eAAA;;;sDArFwB;;;;;;;;;;;;;;;;;;;AAExB,IAAA,AAAMA,iBAAN,MAAMA;;QACJ,uBAAQC,eAAc,IAAIC,oBAAW;QAErC,uBAAOC,kBAAiB,OACtBC,KACAC,KACAC,OACG;YACH,IAAI;gBACF,MAAMC,aACJ,MAAM,IAAI,CAACN,WAAW,CAACE,cAAc,CAACC,IAAII,IAAI;gBAEhDH,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACH;YACvB,EAAE,OAAOI,OAAO;gBACdL,KAAKK;YACP;QACF;QACA,uBAAOC,eAAc,OACnBR,KACAC,KACAC,OACG;YACH,IAAI;gBACF,MAAMC,aACJ,MAAM,IAAI,CAACN,WAAW,CAACE,cAAc,CAACC,IAAIS,MAAM,CAACC,MAAM;gBAEzDT,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACH;YACvB,EAAE,OAAOI,OAAO;gBACdL,KAAKK;YACP;QACF;QACA,uBAAOI,qBAAoB,OACzBX,KACAC,KACAC,OACG;YACH,IAAI;gBACF,MAAMU,YAAqCZ,IAAIa,IAAI;gBACnD,MAAMV,aACJ,MAAM,IAAI,CAACN,WAAW,CAACc,iBAAiB,CAACX,IAAII,IAAI,EAAEQ;gBAErDX,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACH;YACvB,EAAE,OAAOI,OAAO;gBACdL,KAAKK;YACP;QACF;QAGA,uBAAOO,kBAAiB,OACtBd,KACAC,KACAC,OACG;YACH,IAAI;gBACF,MAAMU,YAAkCZ,IAAIa,IAAI;gBAChD,MAAMV,aACJ,MAAM,IAAI,CAACN,WAAW,CAACiB,cAAc,CAACd,IAAII,IAAI,EAAEQ;gBAElDX,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACH;YACvB,EAAE,OAAOI,OAAO;gBACdL,KAAKK;YACP;QACF;QAGA,uBAAOQ,qBAAoB,OACzBf,KACAC,KACAC,OACG;YACH,IAAI;gBACF,MAAMC,aACJ,MAAM,IAAI,CAACN,WAAW,CAACkB,iBAAiB,CAACf,IAAII,IAAI;gBAEnDH,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACH;YACvB,EAAE,OAAOI,OAAO;gBACdL,KAAKK;YACP;QACF;;AAGF;MAEA,WAAeX"}