{"version":3,"sources":["../../../src/routes/v1/auth.route.ts"],"sourcesContent":["import { Router } from \"express\";\r\nimport AuthController from \"../../controllers/auth.controller\";\r\nimport {\r\n  RefreshTokenReqDto,\r\n  ResendVerificationCodeEmailReqDto,\r\n  ResetPasswordReqDto,\r\n  SendPasswordResetEmailReqDto,\r\n  SignInUserReqDto,\r\n  SignUpUserReqDto,\r\n  VerifyUserAccountReqDto,\r\n} from \"../../dtos/auth.dto\";\r\nimport { Routes } from \"../../interfaces/routes.interface\";\r\nimport authMiddleware from \"../../middlewares/auth.middleware\";\r\nimport validationMiddleware from \"../../middlewares/validation.middleware\";\r\n\r\nclass AuthRouteV1 implements Routes {\r\n  public path = \"/api/v1/auth\";\r\n  public adminPath = \"/api/v1/admin/auth\";\r\n  public router = Router();\r\n  public authController = new AuthController();\r\n\r\n  constructor() {\r\n    this.initializeRoutes();\r\n  }\r\n\r\n  private initializeRoutes() {\r\n    this.router.get(\r\n      `${this.path}/check`,\r\n      this.authController.checkEmail\r\n    );\r\n\r\n    this.router.post(\r\n      `${this.path}/sign-up`,\r\n      validationMiddleware(SignUpUserReqDto, \"body\"),\r\n      this.authController.signUpUser\r\n    );\r\n    this.router.post(\r\n      `${this.path}/account-verify`,\r\n      validationMiddleware(VerifyUserAccountReqDto, \"body\"),\r\n      this.authController.verifyUserAccount\r\n    );\r\n    this.router.post(\r\n      `${this.path}/code-resend`,\r\n      validationMiddleware(ResendVerificationCodeEmailReqDto, \"body\"),\r\n      this.authController.resendVerificationCodeEmail\r\n    );\r\n    this.router.post(\r\n      `${this.path}/password-reset`,\r\n      validationMiddleware(ResetPasswordReqDto, \"body\"),\r\n      this.authController.resetPassword\r\n    );\r\n    this.router.post(\r\n      `${this.path}/password-reset/email`,\r\n      validationMiddleware(SendPasswordResetEmailReqDto, \"body\"),\r\n      this.authController.sendPasswordResetEmail\r\n    );\r\n    this.router.post(\r\n      `${this.path}/sign-in`,\r\n      validationMiddleware(SignInUserReqDto, \"body\"),\r\n      this.authController.signInUser\r\n    );\r\n    this.router.post(\r\n      `${this.path}/sign-out`,\r\n      authMiddleware,\r\n      this.authController.signOutUser\r\n    );\r\n    this.router.post(\r\n      `${this.path}/refresh`,\r\n      validationMiddleware(RefreshTokenReqDto, \"cookies\"),\r\n      this.authController.refreshToken\r\n    );\r\n  }\r\n}\r\n\r\nexport default AuthRouteV1;\r\n"],"names":["AuthRouteV1","initializeRoutes","router","get","path","authController","checkEmail","post","validationMiddleware","SignUpUserReqDto","signUpUser","VerifyUserAccountReqDto","verifyUserAccount","ResendVerificationCodeEmailReqDto","resendVerificationCodeEmail","ResetPasswordReqDto","resetPassword","SendPasswordResetEmailReqDto","sendPasswordResetEmail","SignInUserReqDto","signInUser","authMiddleware","signOutUser","RefreshTokenReqDto","refreshToken","constructor","adminPath","Router","AuthController"],"mappings":";;;;+BA0EA;;;eAAA;;;yBA1EuB;yDACI;yBASpB;yDAEoB;+DACM;;;;;;;;;;;;;;;;;;;AAEjC,IAAA,AAAMA,cAAN,MAAMA;IAUIC,mBAAmB;QACzB,IAAI,CAACC,MAAM,CAACC,GAAG,CACb,CAAC,EAAE,IAAI,CAACC,IAAI,CAAC,MAAM,CAAC,EACpB,IAAI,CAACC,cAAc,CAACC,UAAU;QAGhC,IAAI,CAACJ,MAAM,CAACK,IAAI,CACd,CAAC,EAAE,IAAI,CAACH,IAAI,CAAC,QAAQ,CAAC,EACtBI,IAAAA,6BAAoB,EAACC,yBAAgB,EAAE,SACvC,IAAI,CAACJ,cAAc,CAACK,UAAU;QAEhC,IAAI,CAACR,MAAM,CAACK,IAAI,CACd,CAAC,EAAE,IAAI,CAACH,IAAI,CAAC,eAAe,CAAC,EAC7BI,IAAAA,6BAAoB,EAACG,gCAAuB,EAAE,SAC9C,IAAI,CAACN,cAAc,CAACO,iBAAiB;QAEvC,IAAI,CAACV,MAAM,CAACK,IAAI,CACd,CAAC,EAAE,IAAI,CAACH,IAAI,CAAC,YAAY,CAAC,EAC1BI,IAAAA,6BAAoB,EAACK,0CAAiC,EAAE,SACxD,IAAI,CAACR,cAAc,CAACS,2BAA2B;QAEjD,IAAI,CAACZ,MAAM,CAACK,IAAI,CACd,CAAC,EAAE,IAAI,CAACH,IAAI,CAAC,eAAe,CAAC,EAC7BI,IAAAA,6BAAoB,EAACO,4BAAmB,EAAE,SAC1C,IAAI,CAACV,cAAc,CAACW,aAAa;QAEnC,IAAI,CAACd,MAAM,CAACK,IAAI,CACd,CAAC,EAAE,IAAI,CAACH,IAAI,CAAC,qBAAqB,CAAC,EACnCI,IAAAA,6BAAoB,EAACS,qCAA4B,EAAE,SACnD,IAAI,CAACZ,cAAc,CAACa,sBAAsB;QAE5C,IAAI,CAAChB,MAAM,CAACK,IAAI,CACd,CAAC,EAAE,IAAI,CAACH,IAAI,CAAC,QAAQ,CAAC,EACtBI,IAAAA,6BAAoB,EAACW,yBAAgB,EAAE,SACvC,IAAI,CAACd,cAAc,CAACe,UAAU;QAEhC,IAAI,CAAClB,MAAM,CAACK,IAAI,CACd,CAAC,EAAE,IAAI,CAACH,IAAI,CAAC,SAAS,CAAC,EACvBiB,uBAAc,EACd,IAAI,CAAChB,cAAc,CAACiB,WAAW;QAEjC,IAAI,CAACpB,MAAM,CAACK,IAAI,CACd,CAAC,EAAE,IAAI,CAACH,IAAI,CAAC,QAAQ,CAAC,EACtBI,IAAAA,6BAAoB,EAACe,2BAAkB,EAAE,YACzC,IAAI,CAAClB,cAAc,CAACmB,YAAY;IAEpC;IAlDAC,aAAc;QALd,uBAAOrB,QAAO;QACd,uBAAOsB,aAAY;QACnB,uBAAOxB,UAASyB,IAAAA,eAAM;QACtB,uBAAOtB,kBAAiB,IAAIuB,uBAAc;QAGxC,IAAI,CAAC3B,gBAAgB;IACvB;AAiDF;MAEA,WAAeD"}